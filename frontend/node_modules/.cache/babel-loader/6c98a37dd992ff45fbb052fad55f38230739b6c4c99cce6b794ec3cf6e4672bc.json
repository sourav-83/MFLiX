{"ast":null,"code":"const [user, setUser] = useState(() => {\n  try {\n    const storedUser = localStorage.getItem('user');\n    return storedUser ? JSON.parse(storedUser) : null;\n  } catch {\n    localStorage.removeItem('user');\n    return null;\n  }\n});\nuseEffect(() => {\n  const checkUser = () => {\n    const storedUser = localStorage.getItem('user');\n    setUser(storedUser ? JSON.parse(storedUser) : null);\n  };\n  window.addEventListener('storage', checkUser);\n  const interval = setInterval(checkUser, 1000);\n  return () => {\n    window.removeEventListener('storage', checkUser);\n    clearInterval(interval);\n  };\n}, []);\nconst handleAuth = () => {\n  if (user) {\n    localStorage.removeItem('user');\n    setUser(null);\n    navigate('/');\n  } else {\n    navigate('/auth');\n  }\n};","map":{"version":3,"names":["user","setUser","useState","storedUser","localStorage","getItem","JSON","parse","removeItem","useEffect","checkUser","window","addEventListener","interval","setInterval","removeEventListener","clearInterval","handleAuth","navigate"],"sources":["D:/react movie website/frontend/src/components/common/Header.jsx"],"sourcesContent":["const [user, setUser] = useState(() => {\r\n  try {\r\n    const storedUser = localStorage.getItem('user');\r\n    return storedUser ? JSON.parse(storedUser) : null;\r\n  } catch {\r\n    localStorage.removeItem('user');\r\n    return null;\r\n  }\r\n});\r\n\r\nuseEffect(() => {\r\n  const checkUser = () => {\r\n    const storedUser = localStorage.getItem('user');\r\n    setUser(storedUser ? JSON.parse(storedUser) : null);\r\n  };\r\n\r\n  window.addEventListener('storage', checkUser);\r\n  const interval = setInterval(checkUser, 1000);\r\n\r\n  return () => {\r\n    window.removeEventListener('storage', checkUser);\r\n    clearInterval(interval);\r\n  };\r\n}, []);\r\n\r\nconst handleAuth = () => {\r\n  if (user) {\r\n    localStorage.removeItem('user');\r\n    setUser(null);\r\n    navigate('/');\r\n  } else {\r\n    navigate('/auth');\r\n  }\r\n};\r\n"],"mappings":"AAAA,MAAM,CAACA,IAAI,EAAEC,OAAO,CAAC,GAAGC,QAAQ,CAAC,MAAM;EACrC,IAAI;IACF,MAAMC,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IAC/C,OAAOF,UAAU,GAAGG,IAAI,CAACC,KAAK,CAACJ,UAAU,CAAC,GAAG,IAAI;EACnD,CAAC,CAAC,MAAM;IACNC,YAAY,CAACI,UAAU,CAAC,MAAM,CAAC;IAC/B,OAAO,IAAI;EACb;AACF,CAAC,CAAC;AAEFC,SAAS,CAAC,MAAM;EACd,MAAMC,SAAS,GAAGA,CAAA,KAAM;IACtB,MAAMP,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IAC/CJ,OAAO,CAACE,UAAU,GAAGG,IAAI,CAACC,KAAK,CAACJ,UAAU,CAAC,GAAG,IAAI,CAAC;EACrD,CAAC;EAEDQ,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAEF,SAAS,CAAC;EAC7C,MAAMG,QAAQ,GAAGC,WAAW,CAACJ,SAAS,EAAE,IAAI,CAAC;EAE7C,OAAO,MAAM;IACXC,MAAM,CAACI,mBAAmB,CAAC,SAAS,EAAEL,SAAS,CAAC;IAChDM,aAAa,CAACH,QAAQ,CAAC;EACzB,CAAC;AACH,CAAC,EAAE,EAAE,CAAC;AAEN,MAAMI,UAAU,GAAGA,CAAA,KAAM;EACvB,IAAIjB,IAAI,EAAE;IACRI,YAAY,CAACI,UAAU,CAAC,MAAM,CAAC;IAC/BP,OAAO,CAAC,IAAI,CAAC;IACbiB,QAAQ,CAAC,GAAG,CAAC;EACf,CAAC,MAAM;IACLA,QAAQ,CAAC,OAAO,CAAC;EACnB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}