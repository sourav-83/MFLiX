{"ast":null,"code":"var _jsxFileName = \"D:\\\\react movie website\\\\frontend\\\\src\\\\components\\\\movie details\\\\UserRatingDisplay.jsx\",\n  _s = $RefreshSig$();\n// UserRatingDisplay.jsx\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Box, Typography, Paper, styled, IconButton, Button, Alert, Collapse, Divider } from \"@mui/material\";\nimport { Star, StarBorder, Edit, Close, Check } from \"@mui/icons-material\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport url from \"../../constants/url\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UserRatingCard = styled(Paper)`\n  background: rgba(30, 30, 30, 0.95);\n  color: white;\n  padding: 20px;\n  margin-top: 30px;\n  margin-bottom: 20px;\n  border-radius: 12px;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n`;\n_c = UserRatingCard;\nconst RatingSection = styled(Box)`\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  flex-wrap: wrap;\n`;\n_c2 = RatingSection;\nconst StarRating = styled(Box)`\n  display: flex;\n  align-items: center;\n  gap: 2px;\n`;\n_c3 = StarRating;\nconst RatingDisplay = styled(Typography)`\n  color: #ffd700;\n  font-weight: bold;\n  font-size: 1.3rem;\n  text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);\n`;\n_c4 = RatingDisplay;\nconst QuickRateButton = styled(Button)`\n  background: linear-gradient(45deg, #1976d2, #42a5f5);\n  color: white;\n  border-radius: 20px;\n  padding: 8px 20px;\n  font-size: 0.9rem;\n  text-transform: none;\n  box-shadow: 0 4px 12px rgba(25, 118, 210, 0.3);\n  &:hover {\n    background: linear-gradient(45deg, #1565c0, #1976d2);\n    transform: translateY(-1px);\n    box-shadow: 0 6px 16px rgba(25, 118, 210, 0.4);\n  }\n`;\n_c5 = QuickRateButton;\nconst EditRatingButton = styled(IconButton)`\n  color: #64b5f6;\n  background: rgba(100, 181, 246, 0.1);\n  &:hover {\n    background: rgba(100, 181, 246, 0.2);\n    color: #42a5f5;\n  }\n`;\n_c6 = EditRatingButton;\nconst SaveButton = styled(IconButton)`\n  color: #4caf50;\n  background: rgba(76, 175, 80, 0.1);\n  &:hover {\n    background: rgba(76, 175, 80, 0.2);\n  }\n`;\n_c7 = SaveButton;\nconst CancelButton = styled(IconButton)`\n  color: #f44336;\n  background: rgba(244, 67, 54, 0.1);\n  &:hover {\n    background: rgba(244, 67, 54, 0.2);\n  }\n`;\n_c8 = CancelButton;\nconst InteractiveStarButton = styled(IconButton)`\n  color: ${props => props.filled ? '#ffd700' : '#666'};\n  padding: 4px;\n  cursor: ${props => props.disabled ? 'default' : 'pointer'};\n  transition: all 0.2s ease;\n  \n  &:hover {\n    color: ${props => props.disabled ? props.filled ? '#ffd700' : '#666' : '#ffd700'};\n    transform: ${props => props.disabled ? 'none' : 'scale(1.1)'};\n  }\n  \n  /* Override MUI's disabled styling */\n  &.Mui-disabled {\n    color: ${props => props.filled ? '#ffd700' : '#666'} !important;\n  }\n`;\n_c9 = InteractiveStarButton;\nfunction UserRatingDisplay({\n  movieId,\n  onRatingChanged\n}) {\n  _s();\n  const {\n    isAuthenticated\n  } = useAuth();\n  const [userRating, setUserRating] = useState(null);\n  const [isEditing, setIsEditing] = useState(false);\n  const [tempRating, setTempRating] = useState(5);\n  const [hoverRating, setHoverRating] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [showQuickRate, setShowQuickRate] = useState(false);\n  const [quickRateHover, setQuickRateHover] = useState(0);\n\n  // Fetch user's rating for this movie\n  const fetchUserRating = async () => {\n    if (!isAuthenticated || !movieId) return;\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get(`${url}/api/reviews/user/check/${movieId}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.data.hasReviewed && response.data.ratingscore) {\n        setUserRating(response.data.ratingscore);\n      }\n    } catch (error) {\n      var _error$response;\n      console.error('Error fetching user rating:', error);\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n        localStorage.removeItem('token');\n        localStorage.removeItem('user');\n      }\n    }\n  };\n  useEffect(() => {\n    fetchUserRating();\n  }, [movieId, isAuthenticated]);\n  const handleQuickRate = async rating => {\n    if (!isAuthenticated || !movieId) return;\n    setLoading(true);\n    try {\n      const token = localStorage.getItem('token');\n      const movieIdInt = parseInt(movieId, 10);\n      const ratingData = {\n        movieId: movieIdInt,\n        rating: rating,\n        title: '',\n        // Empty for rating-only\n        content: '',\n        // Empty for rating-only\n        hasSpoiler: false\n      };\n      await axios.post(`${url}/api/reviews`, ratingData, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      setUserRating(rating);\n      setShowQuickRate(false);\n      setQuickRateHover(0);\n\n      // Notify parent component that rating has changed\n      if (onRatingChanged) {\n        onRatingChanged();\n      }\n    } catch (error) {\n      var _error$response2, _error$response$data, _error$response$data$;\n      console.error('Error submitting rating:', error);\n      let errorMessage = 'Failed to submit rating';\n      if (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) === 400 && (_error$response$data = error.response.data) !== null && _error$response$data !== void 0 && (_error$response$data$ = _error$response$data.message) !== null && _error$response$data$ !== void 0 && _error$response$data$.toLowerCase().includes('already')) {\n        errorMessage = 'You have already rated this movie';\n      }\n      alert(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleEditRating = async () => {\n    if (!isAuthenticated || !movieId) return;\n    setLoading(true);\n    try {\n      const token = localStorage.getItem('token');\n\n      // Update rating via PUT request (you'll need this endpoint)\n      await axios.put(`${url}/api/reviews/user/rating/${movieId}`, {\n        rating: tempRating\n      }, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      setUserRating(tempRating);\n      setIsEditing(false);\n      setHoverRating(0);\n\n      // Notify parent component that rating has changed\n      if (onRatingChanged) {\n        onRatingChanged();\n      }\n    } catch (error) {\n      console.error('Error updating rating:', error);\n      alert('Failed to update rating');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const renderStars = (rating, isInteractive = false, size = \"medium\") => {\n    const stars = [];\n    const displayRating = isInteractive ? hoverRating || rating : rating;\n    const iconSize = size === \"small\" ? \"small\" : \"medium\";\n    for (let i = 1; i <= 10; i++) {\n      const isFilled = i <= displayRating;\n      stars.push(/*#__PURE__*/_jsxDEV(InteractiveStarButton, {\n        filled: isFilled,\n        onClick: isInteractive ? () => setTempRating(i) : undefined,\n        onMouseEnter: isInteractive ? () => setHoverRating(i) : undefined,\n        onMouseLeave: isInteractive ? () => setHoverRating(0) : undefined,\n        disabled: !isInteractive,\n        size: size,\n        disableRipple: !isInteractive,\n        children: isFilled ? /*#__PURE__*/_jsxDEV(Star, {\n          fontSize: iconSize\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 23\n        }, this) : /*#__PURE__*/_jsxDEV(StarBorder, {\n          fontSize: iconSize\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 54\n        }, this)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this));\n    }\n    return stars;\n  };\n  const renderQuickRateStars = () => {\n    const stars = [];\n    for (let i = 1; i <= 10; i++) {\n      const isFilled = i <= quickRateHover;\n      stars.push(/*#__PURE__*/_jsxDEV(InteractiveStarButton, {\n        filled: isFilled,\n        onClick: () => handleQuickRate(i),\n        onMouseEnter: () => setQuickRateHover(i),\n        onMouseLeave: () => setQuickRateHover(0),\n        disabled: loading,\n        children: isFilled ? /*#__PURE__*/_jsxDEV(Star, {\n          fontSize: \"medium\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 23\n        }, this) : /*#__PURE__*/_jsxDEV(StarBorder, {\n          fontSize: \"medium\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 52\n        }, this)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this));\n    }\n    return stars;\n  };\n\n  // Don't show anything if user is not authenticated\n  if (!isAuthenticated) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(UserRatingCard, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      sx: {\n        mb: 2,\n        color: '#e0e0e0'\n      },\n      children: \"Your Rating\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 7\n    }, this), userRating ? /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(RatingSection, {\n        children: [/*#__PURE__*/_jsxDEV(StarRating, {\n          children: isEditing ? renderStars(tempRating, true) : renderStars(userRating, false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }, this), !isEditing && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(RatingDisplay, {\n            children: [userRating, \"/10\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(EditRatingButton, {\n            onClick: () => {\n              setIsEditing(true);\n              setTempRating(userRating);\n            },\n            title: \"Edit your rating\",\n            children: /*#__PURE__*/_jsxDEV(Edit, {\n              fontSize: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true), isEditing && /*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          gap: 1,\n          alignItems: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(RatingDisplay, {\n            children: [hoverRating || tempRating, \"/10\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(SaveButton, {\n            onClick: handleEditRating,\n            disabled: loading,\n            title: \"Save changes\",\n            children: /*#__PURE__*/_jsxDEV(Check, {\n              fontSize: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(CancelButton, {\n            onClick: () => {\n              setIsEditing(false);\n              setTempRating(userRating);\n              setHoverRating(0);\n            },\n            disabled: loading,\n            title: \"Cancel\",\n            children: /*#__PURE__*/_jsxDEV(Close, {\n              fontSize: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 11\n      }, this), !isEditing && /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        sx: {\n          color: 'grey.400',\n          mt: 1\n        },\n        children: \"You rated this movie. Click the edit icon to change your rating.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        alignItems: \"center\",\n        gap: 2,\n        mb: 2,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          sx: {\n            color: '#e0e0e0'\n          },\n          children: \"You haven't rated this movie yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(QuickRateButton, {\n          onClick: () => setShowQuickRate(!showQuickRate),\n          disabled: loading,\n          children: showQuickRate ? 'Cancel' : 'Quick Rate'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Collapse, {\n        in: showQuickRate,\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(Divider, {\n            sx: {\n              backgroundColor: 'rgba(255, 255, 255, 0.1)',\n              mb: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            sx: {\n              color: '#e0e0e0',\n              mb: 1\n            },\n            children: \"Click a star to rate (hover to preview):\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            display: \"flex\",\n            alignItems: \"center\",\n            gap: 1,\n            mb: 1,\n            children: renderQuickRateStars()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 15\n          }, this), quickRateHover > 0 && /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            sx: {\n              color: '#ffd700',\n              fontWeight: 'bold'\n            },\n            children: [\"Rating: \", quickRateHover, \"/10\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"caption\",\n            sx: {\n              color: 'grey.500',\n              display: 'block',\n              mt: 1\n            },\n            children: \"This will only submit your rating.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 279,\n    columnNumber: 5\n  }, this);\n}\n_s(UserRatingDisplay, \"Muma455km050N9M1Y4Gt68275nY=\", false, function () {\n  return [useAuth];\n});\n_c0 = UserRatingDisplay;\nexport default UserRatingDisplay;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0;\n$RefreshReg$(_c, \"UserRatingCard\");\n$RefreshReg$(_c2, \"RatingSection\");\n$RefreshReg$(_c3, \"StarRating\");\n$RefreshReg$(_c4, \"RatingDisplay\");\n$RefreshReg$(_c5, \"QuickRateButton\");\n$RefreshReg$(_c6, \"EditRatingButton\");\n$RefreshReg$(_c7, \"SaveButton\");\n$RefreshReg$(_c8, \"CancelButton\");\n$RefreshReg$(_c9, \"InteractiveStarButton\");\n$RefreshReg$(_c0, \"UserRatingDisplay\");","map":{"version":3,"names":["React","useState","useEffect","axios","Box","Typography","Paper","styled","IconButton","Button","Alert","Collapse","Divider","Star","StarBorder","Edit","Close","Check","useAuth","url","jsxDEV","_jsxDEV","Fragment","_Fragment","UserRatingCard","_c","RatingSection","_c2","StarRating","_c3","RatingDisplay","_c4","QuickRateButton","_c5","EditRatingButton","_c6","SaveButton","_c7","CancelButton","_c8","InteractiveStarButton","props","filled","disabled","_c9","UserRatingDisplay","movieId","onRatingChanged","_s","isAuthenticated","userRating","setUserRating","isEditing","setIsEditing","tempRating","setTempRating","hoverRating","setHoverRating","loading","setLoading","showQuickRate","setShowQuickRate","quickRateHover","setQuickRateHover","fetchUserRating","token","localStorage","getItem","response","get","headers","data","hasReviewed","ratingscore","error","_error$response","console","status","removeItem","handleQuickRate","rating","movieIdInt","parseInt","ratingData","title","content","hasSpoiler","post","_error$response2","_error$response$data","_error$response$data$","errorMessage","message","toLowerCase","includes","alert","handleEditRating","put","renderStars","isInteractive","size","stars","displayRating","iconSize","i","isFilled","push","onClick","undefined","onMouseEnter","onMouseLeave","disableRipple","children","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","renderQuickRateStars","variant","sx","mb","color","display","gap","alignItems","mt","in","backgroundColor","fontWeight","_c0","$RefreshReg$"],"sources":["D:/react movie website/frontend/src/components/movie details/UserRatingDisplay.jsx"],"sourcesContent":["// UserRatingDisplay.jsx\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Paper,\r\n  styled,\r\n  IconButton,\r\n  Button,\r\n  Alert,\r\n  Collapse,\r\n  Divider,\r\n} from \"@mui/material\";\r\nimport { Star, StarBorder, Edit, Close, Check } from \"@mui/icons-material\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\nimport url from \"../../constants/url\";\r\n\r\nconst UserRatingCard = styled(Paper)`\r\n  background: rgba(30, 30, 30, 0.95);\r\n  color: white;\r\n  padding: 20px;\r\n  margin-top: 30px;\r\n  margin-bottom: 20px;\r\n  border-radius: 12px;\r\n  border: 1px solid rgba(255, 255, 255, 0.1);\r\n  backdrop-filter: blur(10px);\r\n`;\r\n\r\nconst RatingSection = styled(Box)`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16px;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst StarRating = styled(Box)`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 2px;\r\n`;\r\n\r\nconst RatingDisplay = styled(Typography)`\r\n  color: #ffd700;\r\n  font-weight: bold;\r\n  font-size: 1.3rem;\r\n  text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);\r\n`;\r\n\r\nconst QuickRateButton = styled(Button)`\r\n  background: linear-gradient(45deg, #1976d2, #42a5f5);\r\n  color: white;\r\n  border-radius: 20px;\r\n  padding: 8px 20px;\r\n  font-size: 0.9rem;\r\n  text-transform: none;\r\n  box-shadow: 0 4px 12px rgba(25, 118, 210, 0.3);\r\n  &:hover {\r\n    background: linear-gradient(45deg, #1565c0, #1976d2);\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 6px 16px rgba(25, 118, 210, 0.4);\r\n  }\r\n`;\r\n\r\nconst EditRatingButton = styled(IconButton)`\r\n  color: #64b5f6;\r\n  background: rgba(100, 181, 246, 0.1);\r\n  &:hover {\r\n    background: rgba(100, 181, 246, 0.2);\r\n    color: #42a5f5;\r\n  }\r\n`;\r\n\r\nconst SaveButton = styled(IconButton)`\r\n  color: #4caf50;\r\n  background: rgba(76, 175, 80, 0.1);\r\n  &:hover {\r\n    background: rgba(76, 175, 80, 0.2);\r\n  }\r\n`;\r\n\r\nconst CancelButton = styled(IconButton)`\r\n  color: #f44336;\r\n  background: rgba(244, 67, 54, 0.1);\r\n  &:hover {\r\n    background: rgba(244, 67, 54, 0.2);\r\n  }\r\n`;\r\n\r\nconst InteractiveStarButton = styled(IconButton)`\r\n  color: ${props => props.filled ? '#ffd700' : '#666'};\r\n  padding: 4px;\r\n  cursor: ${props => props.disabled ? 'default' : 'pointer'};\r\n  transition: all 0.2s ease;\r\n  \r\n  &:hover {\r\n    color: ${props => props.disabled ? (props.filled ? '#ffd700' : '#666') : '#ffd700'};\r\n    transform: ${props => props.disabled ? 'none' : 'scale(1.1)'};\r\n  }\r\n  \r\n  /* Override MUI's disabled styling */\r\n  &.Mui-disabled {\r\n    color: ${props => props.filled ? '#ffd700' : '#666'} !important;\r\n  }\r\n`;\r\n\r\nfunction UserRatingDisplay({ movieId, onRatingChanged }) {\r\n  const { isAuthenticated } = useAuth();\r\n  const [userRating, setUserRating] = useState(null);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [tempRating, setTempRating] = useState(5);\r\n  const [hoverRating, setHoverRating] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n  const [showQuickRate, setShowQuickRate] = useState(false);\r\n  const [quickRateHover, setQuickRateHover] = useState(0);\r\n\r\n  // Fetch user's rating for this movie\r\n  const fetchUserRating = async () => {\r\n    if (!isAuthenticated || !movieId) return;\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await axios.get(`${url}/api/reviews/user/check/${movieId}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      \r\n      if (response.data.hasReviewed && response.data.ratingscore) {\r\n        setUserRating(response.data.ratingscore);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching user rating:', error);\r\n      if (error.response?.status === 401) {\r\n        localStorage.removeItem('token');\r\n        localStorage.removeItem('user');\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUserRating();\r\n  }, [movieId, isAuthenticated]);\r\n\r\n  const handleQuickRate = async (rating) => {\r\n    if (!isAuthenticated || !movieId) return;\r\n\r\n    setLoading(true);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const movieIdInt = parseInt(movieId, 10);\r\n      \r\n      const ratingData = {\r\n        movieId: movieIdInt,\r\n        rating: rating,\r\n        title: '', // Empty for rating-only\r\n        content: '', // Empty for rating-only\r\n        hasSpoiler: false\r\n      };\r\n\r\n      await axios.post(`${url}/api/reviews`, ratingData, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      setUserRating(rating);\r\n      setShowQuickRate(false);\r\n      setQuickRateHover(0);\r\n      \r\n      // Notify parent component that rating has changed\r\n      if (onRatingChanged) {\r\n        onRatingChanged();\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('Error submitting rating:', error);\r\n      let errorMessage = 'Failed to submit rating';\r\n      \r\n      if (error.response?.status === 400 && \r\n          error.response.data?.message?.toLowerCase().includes('already')) {\r\n        errorMessage = 'You have already rated this movie';\r\n      }\r\n      \r\n      alert(errorMessage);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleEditRating = async () => {\r\n    if (!isAuthenticated || !movieId) return;\r\n\r\n    setLoading(true);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      // Update rating via PUT request (you'll need this endpoint)\r\n      await axios.put(`${url}/api/reviews/user/rating/${movieId}`, {\r\n        rating: tempRating\r\n      }, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      setUserRating(tempRating);\r\n      setIsEditing(false);\r\n      setHoverRating(0);\r\n      \r\n      // Notify parent component that rating has changed\r\n      if (onRatingChanged) {\r\n        onRatingChanged();\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('Error updating rating:', error);\r\n      alert('Failed to update rating');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const renderStars = (rating, isInteractive = false, size = \"medium\") => {\r\n    const stars = [];\r\n    const displayRating = isInteractive ? (hoverRating || rating) : rating;\r\n    const iconSize = size === \"small\" ? \"small\" : \"medium\";\r\n\r\n    for (let i = 1; i <= 10; i++) {\r\n      const isFilled = i <= displayRating;\r\n      \r\n      stars.push(\r\n        <InteractiveStarButton\r\n          key={i}\r\n          filled={isFilled}\r\n          onClick={isInteractive ? () => setTempRating(i) : undefined}\r\n          onMouseEnter={isInteractive ? () => setHoverRating(i) : undefined}\r\n          onMouseLeave={isInteractive ? () => setHoverRating(0) : undefined}\r\n          disabled={!isInteractive}\r\n          size={size}\r\n          disableRipple={!isInteractive}\r\n        >\r\n          {isFilled ? <Star fontSize={iconSize} /> : <StarBorder fontSize={iconSize} />}\r\n        </InteractiveStarButton>\r\n      );\r\n    }\r\n    return stars;\r\n  };\r\n\r\n  const renderQuickRateStars = () => {\r\n    const stars = [];\r\n    for (let i = 1; i <= 10; i++) {\r\n      const isFilled = i <= quickRateHover;\r\n      \r\n      stars.push(\r\n        <InteractiveStarButton\r\n          key={i}\r\n          filled={isFilled}\r\n          onClick={() => handleQuickRate(i)}\r\n          onMouseEnter={() => setQuickRateHover(i)}\r\n          onMouseLeave={() => setQuickRateHover(0)}\r\n          disabled={loading}\r\n        >\r\n          {isFilled ? <Star fontSize=\"medium\" /> : <StarBorder fontSize=\"medium\" />}\r\n        </InteractiveStarButton>\r\n      );\r\n    }\r\n    return stars;\r\n  };\r\n\r\n  // Don't show anything if user is not authenticated\r\n  if (!isAuthenticated) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <UserRatingCard>\r\n      <Typography variant=\"h6\" sx={{ mb: 2, color: '#e0e0e0' }}>\r\n        Your Rating\r\n      </Typography>\r\n      \r\n      {userRating ? (\r\n        <Box>\r\n          <RatingSection>\r\n            <StarRating>\r\n              {/* Fixed: Ensure stars show correctly when not editing */}\r\n              {isEditing ? \r\n                renderStars(tempRating, true) : \r\n                renderStars(userRating, false)\r\n              }\r\n            </StarRating>\r\n            \r\n            {!isEditing && (\r\n              <>\r\n                <RatingDisplay>\r\n                  {userRating}/10\r\n                </RatingDisplay>\r\n                <EditRatingButton\r\n                  onClick={() => {\r\n                    setIsEditing(true);\r\n                    setTempRating(userRating);\r\n                  }}\r\n                  title=\"Edit your rating\"\r\n                >\r\n                  <Edit fontSize=\"small\" />\r\n                </EditRatingButton>\r\n              </>\r\n            )}\r\n            \r\n            {isEditing && (\r\n              <Box display=\"flex\" gap={1} alignItems=\"center\">\r\n                <RatingDisplay>\r\n                  {hoverRating || tempRating}/10\r\n                </RatingDisplay>\r\n                <SaveButton\r\n                  onClick={handleEditRating}\r\n                  disabled={loading}\r\n                  title=\"Save changes\"\r\n                >\r\n                  <Check fontSize=\"small\" />\r\n                </SaveButton>\r\n                <CancelButton\r\n                  onClick={() => {\r\n                    setIsEditing(false);\r\n                    setTempRating(userRating);\r\n                    setHoverRating(0);\r\n                  }}\r\n                  disabled={loading}\r\n                  title=\"Cancel\"\r\n                >\r\n                  <Close fontSize=\"small\" />\r\n                </CancelButton>\r\n              </Box>\r\n            )}\r\n          </RatingSection>\r\n          \r\n          {!isEditing && (\r\n            <Typography variant=\"body2\" sx={{ color: 'grey.400', mt: 1 }}>\r\n              You rated this movie. Click the edit icon to change your rating.\r\n            </Typography>\r\n          )}\r\n        </Box>\r\n      ) : (\r\n        <Box>\r\n          <Box display=\"flex\" alignItems=\"center\" gap={2} mb={2}>\r\n            <Typography variant=\"body1\" sx={{ color: '#e0e0e0' }}>\r\n              You haven't rated this movie yet.\r\n            </Typography>\r\n            <QuickRateButton\r\n              onClick={() => setShowQuickRate(!showQuickRate)}\r\n              disabled={loading}\r\n            >\r\n              {showQuickRate ? 'Cancel' : 'Quick Rate'}\r\n            </QuickRateButton>\r\n          </Box>\r\n          \r\n          <Collapse in={showQuickRate}>\r\n            <Box>\r\n              <Divider sx={{ backgroundColor: 'rgba(255, 255, 255, 0.1)', mb: 2 }} />\r\n              <Typography variant=\"body2\" sx={{ color: '#e0e0e0', mb: 1 }}>\r\n                Click a star to rate (hover to preview):\r\n              </Typography>\r\n              <Box display=\"flex\" alignItems=\"center\" gap={1} mb={1}>\r\n                {renderQuickRateStars()}\r\n              </Box>\r\n              {quickRateHover > 0 && (\r\n                <Typography variant=\"body2\" sx={{ color: '#ffd700', fontWeight: 'bold' }}>\r\n                  Rating: {quickRateHover}/10\r\n                </Typography>\r\n              )}\r\n              <Typography variant=\"caption\" sx={{ color: 'grey.500', display: 'block', mt: 1 }}>\r\n                This will only submit your rating.\r\n              </Typography>\r\n            </Box>\r\n          </Collapse>\r\n        </Box>\r\n      )}\r\n    </UserRatingCard>\r\n  );\r\n}\r\n\r\nexport default UserRatingDisplay;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}