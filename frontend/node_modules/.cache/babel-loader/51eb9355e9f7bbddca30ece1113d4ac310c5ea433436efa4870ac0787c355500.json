{"ast":null,"code":"var _jsxFileName = \"D:\\\\react movie website\\\\frontend\\\\src\\\\pages\\\\SignInSignUp.jsx\",\n  _s = $RefreshSig$();\n// SignInSignUp.jsx\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Box, Typography, TextField, Button, styled, Paper, Tabs, Tab, Alert } from \"@mui/material\";\nimport { useAuth } from \"../components/contexts/AuthContext\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Wrapper = styled(Paper)`\n  max-width: 400px;\n  margin: 80px auto;\n  padding: 40px;\n  background-color: #1c1c1c;\n  color: white;\n`;\n_c = Wrapper;\nconst StyledInput = styled(TextField)`\n  margin-bottom: 20px;\n  & .MuiInputBase-input {\n    color: #d3d3d3;\n    background-color: #1c1c1c;\n  }\n  & .MuiInputLabel-root {\n    color: gray;\n  }\n  & .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline {\n    border-color: gray;\n  }\n  & .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline {\n    border-color: gray;\n  }\n  & .MuiOutlinedInput-root:hover .MuiOutlinedInput-notchedOutline {\n    border-color: gray;\n  }\n  & .MuiOutlinedInput-root.Mui-focused {\n    background-color: #1c1c1c;\n  }\n  & .MuiOutlinedInput-root.Mui-filled {\n    background-color: #1c1c1c;\n  }\n`;\n_c2 = StyledInput;\nconst StyledTabs = styled(Tabs)`\n  margin-bottom: 20px;\n  & .MuiTabs-indicator {\n    background-color: #e50914;\n  }\n  & .MuiTab-root {\n    color: gray;\n    &.Mui-selected {\n      color: white;\n    }\n  }\n`;\n_c3 = StyledTabs;\nconst OTPContainer = styled(Box)`\n  display: flex;\n  gap: 10px;\n  align-items: center;\n  margin-bottom: 20px;\n`;\n_c4 = OTPContainer;\nconst SendOTPButton = styled(Button)`\n  min-width: 80px;\n  color: white;\n  border-color: #555555;\n  background-color: #333333;\n  \n  &:hover {\n    background-color: #444444;\n    border-color: #666666;\n  }\n  \n  &:disabled {\n    color: #666666;\n    background-color: #2a2a2a;\n    border-color: #444444;\n  }\n`;\n_c5 = SendOTPButton;\nconst ResendButton = styled(Button)`\n  font-size: 12px;\n  padding: 4px 8px;\n  min-width: auto;\n  color: white;\n  background: transparent;\n  text-decoration: underline;\n  \n  &:hover {\n    background-color: rgba(255, 255, 255, 0.1);\n  }\n  \n  &:disabled {\n    color: #666666;\n    text-decoration: none;\n  }\n`;\n_c6 = ResendButton;\nconst SubmitButton = styled(Button)`\n  background-color: #F5C518;\n  color: white;\n  padding: 12px 0;\n  font-weight: bold;\n  \n  &:hover {\n    background-color: #d40813;\n  }\n  \n  &:disabled {\n    background-color: #666666;\n    color: #999999;\n  }\n`;\n_c7 = SubmitButton;\nconst SignInSignUp = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    login,\n    isAuthenticated\n  } = useAuth();\n  const [tab, setTab] = useState(0);\n  const [form, setForm] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    otp: \"\"\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n\n  // OTP related state\n  const [generatedOTP, setGeneratedOTP] = useState(\"\");\n  const [otpSent, setOtpSent] = useState(false);\n  const [otpVerified, setOtpVerified] = useState(false);\n  const [countdown, setCountdown] = useState(0);\n  const [otpExpiry, setOtpExpiry] = useState(null);\n  const [lastOtpSent, setLastOtpSent] = useState(0);\n\n  // Redirect if already authenticated\n  useEffect(() => {\n    if (isAuthenticated) {\n      navigate(\"/\");\n    }\n  }, [isAuthenticated, navigate]);\n\n  // Countdown timer for resend OTP\n  useEffect(() => {\n    if (countdown > 0) {\n      const timer = setTimeout(() => setCountdown(countdown - 1), 1000);\n      return () => clearTimeout(timer);\n    }\n  }, [countdown]);\n\n  // Auto-verify OTP when user enters 6 digits\n  useEffect(() => {\n    if (form.otp && form.otp.length === 6 && otpSent && !otpVerified && generatedOTP) {\n      const isValid = verifyOTP();\n      if (isValid) {\n        setSuccess(\"OTP verified successfully!\");\n        setError(\"\");\n      }\n    }\n  }, [form.otp, otpSent, otpVerified, generatedOTP]);\n  const generateOTP = () => {\n    return Math.floor(100000 + Math.random() * 900000).toString();\n  };\n  const sendOTP = async email => {\n    const otp = generateOTP();\n    setGeneratedOTP(otp);\n    try {\n      const emailParams = {\n        to_email: email,\n        otp_code: otp,\n        to_name: form.username || 'User',\n        from_name: 'MFL!X',\n        email: email\n      };\n      const response = await window.emailjs.send('service_bb3sl3g', 'template_vsblu5x', emailParams, 'OWGcnCU0RFMayzRxg');\n      if (response.status === 200) {\n        setOtpSent(true);\n        setOtpVerified(false);\n        setCountdown(60);\n        setOtpExpiry(Date.now() + 10 * 60 * 1000);\n        setSuccess(\"OTP sent to your email successfully!\");\n        setError(\"\");\n        return true;\n      } else {\n        throw new Error('Failed to send OTP');\n      }\n    } catch (err) {\n      console.error(\"Error sending OTP:\", err);\n      setError(\"Failed to send OTP. Please try again.\");\n      return false;\n    }\n  };\n  const verifyOTP = () => {\n    if (!generatedOTP || !form.otp) return false;\n    if (Date.now() > otpExpiry) {\n      setError(\"OTP has expired. Please request a new one.\");\n      setOtpSent(false);\n      setOtpVerified(false);\n      setGeneratedOTP(\"\");\n      return false;\n    }\n    if (form.otp === generatedOTP) {\n      setOtpVerified(true);\n      return true;\n    } else {\n      setError(\"Invalid OTP. Please try again.\");\n      setOtpVerified(false);\n      return false;\n    }\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n\n    // Limit OTP input to 6 digits\n    if (name === 'otp') {\n      if (value.length <= 6 && /^\\d*$/.test(value)) {\n        setForm({\n          ...form,\n          [name]: value\n        });\n      }\n    } else {\n      setForm({\n        ...form,\n        [name]: value\n      });\n    }\n\n    // Clear messages on input change\n    if (error) setError(\"\");\n    if (success && name !== 'otp') setSuccess(\"\");\n  };\n  const handleSendOTP = async () => {\n    if (!form.email) {\n      setError(\"Please enter your email first\");\n      return;\n    }\n\n    // Email validation\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(form.email)) {\n      setError(\"Please enter a valid email address\");\n      return;\n    }\n\n    // Rate limiting\n    const now = Date.now();\n    if (now - lastOtpSent < 60000) {\n      setError(\"Please wait before requesting another OTP\");\n      return;\n    }\n    setLoading(true);\n    setLastOtpSent(now);\n    const success = await sendOTP(form.email);\n    if (success) {\n      setForm({\n        ...form,\n        otp: \"\"\n      }); // Clear previous OTP\n    }\n    setLoading(false);\n  };\n  const handleResendOTP = async () => {\n    if (countdown > 0) return;\n    const now = Date.now();\n    if (now - lastOtpSent < 30000) {\n      setError(\"Please wait before requesting another OTP\");\n      return;\n    }\n    setLoading(true);\n    setLastOtpSent(now);\n    const success = await sendOTP(form.email);\n    if (success) {\n      setForm({\n        ...form,\n        otp: \"\"\n      }); // Clear previous OTP\n      setOtpVerified(false);\n    }\n    setLoading(false);\n  };\n  const handleSubmit = async () => {\n    setLoading(true);\n    setError(\"\");\n    try {\n      // Sign In logic\n      if (tab === 0) {\n        if (!form.username || !form.password) {\n          setError(\"Please fill in all required fields\");\n          return;\n        }\n        const credentials = {\n          username: form.username,\n          password: form.password\n        };\n        const result = await login(credentials);\n        if (result.success) {\n          setSuccess(\"Sign in successful!\");\n          setTimeout(() => navigate(\"/\"), 1000);\n        } else {\n          setError(result.error || \"Invalid credentials\");\n        }\n      }\n\n      // Sign Up logic\n      else {\n        if (!form.username || !form.email || !form.password) {\n          setError(\"Please fill in all required fields\");\n          return;\n        }\n        if (!otpSent) {\n          setError(\"Please send OTP first\");\n          return;\n        }\n        if (!otpVerified) {\n          setError(\"Please verify your OTP first\");\n          return;\n        }\n        const credentials = {\n          username: form.username,\n          email: form.email,\n          password: form.password\n        };\n        const result = await login(credentials);\n        if (result.success) {\n          setSuccess(\"Account created successfully!\");\n          setTimeout(() => navigate(\"/\"), 1000);\n        } else {\n          setError(result.error || \"Registration failed\");\n        }\n      }\n    } catch (err) {\n      console.error(\"Authentication error:\", err);\n      setError(\"An unexpected error occurred. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleTabChange = (_, newVal) => {\n    setTab(newVal);\n    setError(\"\");\n    setSuccess(\"\");\n    // Reset all state when switching tabs\n    setOtpSent(false);\n    setOtpVerified(false);\n    setGeneratedOTP(\"\");\n    setOtpExpiry(null);\n    setCountdown(0);\n    setLastOtpSent(0);\n    setForm({\n      username: \"\",\n      email: \"\",\n      password: \"\",\n      otp: \"\"\n    });\n  };\n  const isSignUpReady = () => {\n    return form.username && form.email && form.password && otpVerified;\n  };\n  const isSignInReady = () => {\n    return form.username && form.password;\n  };\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      align: \"center\",\n      sx: {\n        mb: 3,\n        color: '#e50914',\n        fontWeight: 'bold'\n      },\n      children: \"MFL!X\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StyledTabs, {\n      value: tab,\n      onChange: handleTabChange,\n      textColor: \"inherit\",\n      indicatorColor: \"primary\",\n      centered: true,\n      children: [/*#__PURE__*/_jsxDEV(Tab, {\n        label: \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tab, {\n        label: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 2,\n        backgroundColor: '#d32f2f',\n        color: 'white'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 9\n    }, this), success && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"success\",\n      sx: {\n        mb: 2,\n        backgroundColor: '#2e7d32',\n        color: 'white'\n      },\n      children: success\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 9\n    }, this), tab === 1 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(StyledInput, {\n        label: \"Username\",\n        variant: \"outlined\",\n        fullWidth: true,\n        name: \"username\",\n        value: form.username,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(StyledInput, {\n        label: \"Email\",\n        variant: \"outlined\",\n        fullWidth: true,\n        name: \"email\",\n        type: \"email\",\n        value: form.email,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(StyledInput, {\n        label: \"Password\",\n        type: \"password\",\n        variant: \"outlined\",\n        fullWidth: true,\n        name: \"password\",\n        value: form.password,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(OTPContainer, {\n        children: [/*#__PURE__*/_jsxDEV(StyledInput, {\n          label: \"Enter OTP\",\n          variant: \"outlined\",\n          fullWidth: true,\n          name: \"otp\",\n          value: form.otp,\n          onChange: handleChange,\n          disabled: !otpSent,\n          placeholder: \"6-digit code\",\n          sx: {\n            marginBottom: 0\n          },\n          inputProps: {\n            maxLength: 6\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(SendOTPButton, {\n          variant: \"contained\",\n          onClick: handleSendOTP,\n          disabled: loading || !form.email || otpSent && otpVerified,\n          children: otpVerified ? '✓ Sent' : otpSent ? 'Resend' : 'Send OTP'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 11\n      }, this), otpSent && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          textAlign: 'center',\n          marginBottom: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"gray\",\n          sx: {\n            mb: 1\n          },\n          children: otpVerified ? /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: '#4caf50'\n            },\n            children: \"\\u2713 OTP verified successfully!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 19\n          }, this) : `OTP sent to ${form.email}. Check your inbox.`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 15\n        }, this), !otpVerified && /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"gray\",\n          children: [\"Didn't receive OTP?\", ' ', /*#__PURE__*/_jsxDEV(ResendButton, {\n            onClick: handleResendOTP,\n            disabled: countdown > 0 || loading,\n            children: countdown > 0 ? `Resend in ${countdown}s` : 'Resend OTP'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true), tab === 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(StyledInput, {\n        label: \"Username\",\n        variant: \"outlined\",\n        fullWidth: true,\n        name: \"username\",\n        value: form.username,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 488,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(StyledInput, {\n        label: \"Password\",\n        type: \"password\",\n        variant: \"outlined\",\n        fullWidth: true,\n        name: \"password\",\n        value: form.password,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 498,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(SubmitButton, {\n      variant: \"contained\",\n      fullWidth: true,\n      onClick: handleSubmit,\n      disabled: loading || (tab === 0 ? !isSignInReady() : !isSignUpReady()),\n      children: loading ? \"Loading...\" : tab === 0 ? \"Sign In\" : \"Sign Up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 511,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body2\",\n      align: \"center\",\n      sx: {\n        mt: 2,\n        color: 'gray'\n      },\n      children: [tab === 0 ? \"Don't have an account? \" : \"Already have an account? \", /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"text\",\n        onClick: () => setTab(tab === 0 ? 1 : 0),\n        sx: {\n          color: '#e50914',\n          textTransform: 'none',\n          p: 0,\n          minWidth: 'auto'\n        },\n        children: tab === 0 ? \"Sign Up\" : \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 520,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 374,\n    columnNumber: 5\n  }, this);\n};\n_s(SignInSignUp, \"BpDReQKSxJX+ibWCHscm/OWMqH8=\", false, function () {\n  return [useNavigate, useAuth];\n});\n_c8 = SignInSignUp;\nexport default SignInSignUp;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"Wrapper\");\n$RefreshReg$(_c2, \"StyledInput\");\n$RefreshReg$(_c3, \"StyledTabs\");\n$RefreshReg$(_c4, \"OTPContainer\");\n$RefreshReg$(_c5, \"SendOTPButton\");\n$RefreshReg$(_c6, \"ResendButton\");\n$RefreshReg$(_c7, \"SubmitButton\");\n$RefreshReg$(_c8, \"SignInSignUp\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Box","Typography","TextField","Button","styled","Paper","Tabs","Tab","Alert","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","Wrapper","_c","StyledInput","_c2","StyledTabs","_c3","OTPContainer","_c4","SendOTPButton","_c5","ResendButton","_c6","SubmitButton","_c7","SignInSignUp","_s","navigate","login","isAuthenticated","tab","setTab","form","setForm","username","email","password","otp","loading","setLoading","error","setError","success","setSuccess","generatedOTP","setGeneratedOTP","otpSent","setOtpSent","otpVerified","setOtpVerified","countdown","setCountdown","otpExpiry","setOtpExpiry","lastOtpSent","setLastOtpSent","timer","setTimeout","clearTimeout","length","isValid","verifyOTP","generateOTP","Math","floor","random","toString","sendOTP","emailParams","to_email","otp_code","to_name","from_name","response","window","emailjs","send","status","Date","now","Error","err","console","handleChange","e","name","value","target","test","handleSendOTP","emailRegex","handleResendOTP","handleSubmit","credentials","result","handleTabChange","_","newVal","isSignUpReady","isSignInReady","children","variant","align","sx","mb","color","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","onChange","textColor","indicatorColor","centered","label","severity","backgroundColor","fullWidth","required","type","disabled","placeholder","marginBottom","inputProps","maxLength","onClick","textAlign","style","mt","textTransform","p","minWidth","_c8","$RefreshReg$"],"sources":["D:/react movie website/frontend/src/pages/SignInSignUp.jsx"],"sourcesContent":["// SignInSignUp.jsx\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Box, Typography, TextField, Button, styled, Paper, Tabs, Tab, Alert } from \"@mui/material\";\r\nimport { useAuth } from \"../components/contexts/AuthContext\";\r\n\r\nconst Wrapper = styled(Paper)`\r\n  max-width: 400px;\r\n  margin: 80px auto;\r\n  padding: 40px;\r\n  background-color: #1c1c1c;\r\n  color: white;\r\n`;\r\n\r\nconst StyledInput = styled(TextField)`\r\n  margin-bottom: 20px;\r\n  & .MuiInputBase-input {\r\n    color: #d3d3d3;\r\n    background-color: #1c1c1c;\r\n  }\r\n  & .MuiInputLabel-root {\r\n    color: gray;\r\n  }\r\n  & .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline {\r\n    border-color: gray;\r\n  }\r\n  & .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline {\r\n    border-color: gray;\r\n  }\r\n  & .MuiOutlinedInput-root:hover .MuiOutlinedInput-notchedOutline {\r\n    border-color: gray;\r\n  }\r\n  & .MuiOutlinedInput-root.Mui-focused {\r\n    background-color: #1c1c1c;\r\n  }\r\n  & .MuiOutlinedInput-root.Mui-filled {\r\n    background-color: #1c1c1c;\r\n  }\r\n`;\r\n\r\nconst StyledTabs = styled(Tabs)`\r\n  margin-bottom: 20px;\r\n  & .MuiTabs-indicator {\r\n    background-color: #e50914;\r\n  }\r\n  & .MuiTab-root {\r\n    color: gray;\r\n    &.Mui-selected {\r\n      color: white;\r\n    }\r\n  }\r\n`;\r\n\r\nconst OTPContainer = styled(Box)`\r\n  display: flex;\r\n  gap: 10px;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst SendOTPButton = styled(Button)`\r\n  min-width: 80px;\r\n  color: white;\r\n  border-color: #555555;\r\n  background-color: #333333;\r\n  \r\n  &:hover {\r\n    background-color: #444444;\r\n    border-color: #666666;\r\n  }\r\n  \r\n  &:disabled {\r\n    color: #666666;\r\n    background-color: #2a2a2a;\r\n    border-color: #444444;\r\n  }\r\n`;\r\n\r\nconst ResendButton = styled(Button)`\r\n  font-size: 12px;\r\n  padding: 4px 8px;\r\n  min-width: auto;\r\n  color: white;\r\n  background: transparent;\r\n  text-decoration: underline;\r\n  \r\n  &:hover {\r\n    background-color: rgba(255, 255, 255, 0.1);\r\n  }\r\n  \r\n  &:disabled {\r\n    color: #666666;\r\n    text-decoration: none;\r\n  }\r\n`;\r\n\r\nconst SubmitButton = styled(Button)`\r\n  background-color: #F5C518;\r\n  color: white;\r\n  padding: 12px 0;\r\n  font-weight: bold;\r\n  \r\n  &:hover {\r\n    background-color: #d40813;\r\n  }\r\n  \r\n  &:disabled {\r\n    background-color: #666666;\r\n    color: #999999;\r\n  }\r\n`;\r\n\r\nconst SignInSignUp = () => {\r\n  const navigate = useNavigate();\r\n  const { login, isAuthenticated } = useAuth(); \r\n  const [tab, setTab] = useState(0);\r\n  const [form, setForm] = useState({ username: \"\", email: \"\", password: \"\", otp: \"\" });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n  \r\n  // OTP related state\r\n  const [generatedOTP, setGeneratedOTP] = useState(\"\");\r\n  const [otpSent, setOtpSent] = useState(false);\r\n  const [otpVerified, setOtpVerified] = useState(false);\r\n  const [countdown, setCountdown] = useState(0);\r\n  const [otpExpiry, setOtpExpiry] = useState(null);\r\n  const [lastOtpSent, setLastOtpSent] = useState(0);\r\n\r\n  // Redirect if already authenticated\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      navigate(\"/\");\r\n    }\r\n  }, [isAuthenticated, navigate]);\r\n\r\n  // Countdown timer for resend OTP\r\n  useEffect(() => {\r\n    if (countdown > 0) {\r\n      const timer = setTimeout(() => setCountdown(countdown - 1), 1000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [countdown]);\r\n\r\n  // Auto-verify OTP when user enters 6 digits\r\n  useEffect(() => {\r\n    if (form.otp && form.otp.length === 6 && otpSent && !otpVerified && generatedOTP) {\r\n      const isValid = verifyOTP();\r\n      if (isValid) {\r\n        setSuccess(\"OTP verified successfully!\");\r\n        setError(\"\");\r\n      }\r\n    }\r\n  }, [form.otp, otpSent, otpVerified, generatedOTP]);\r\n\r\n  const generateOTP = () => {\r\n    return Math.floor(100000 + Math.random() * 900000).toString();\r\n  };\r\n\r\n  const sendOTP = async (email) => {\r\n    const otp = generateOTP();\r\n    setGeneratedOTP(otp);\r\n    \r\n    try {\r\n      const emailParams = {\r\n        to_email: email,\r\n        otp_code: otp,\r\n        to_name: form.username || 'User',\r\n        from_name: 'MFL!X',\r\n        email: email\r\n      };\r\n\r\n      const response = await window.emailjs.send(\r\n        'service_bb3sl3g',\r\n        'template_vsblu5x', \r\n        emailParams,\r\n        'OWGcnCU0RFMayzRxg'\r\n      );\r\n\r\n      if (response.status === 200) {\r\n        setOtpSent(true);\r\n        setOtpVerified(false);\r\n        setCountdown(60);\r\n        setOtpExpiry(Date.now() + 10 * 60 * 1000);\r\n        setSuccess(\"OTP sent to your email successfully!\");\r\n        setError(\"\");\r\n        return true;\r\n      } else {\r\n        throw new Error('Failed to send OTP');\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error sending OTP:\", err);\r\n      setError(\"Failed to send OTP. Please try again.\");\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const verifyOTP = () => {\r\n    if (!generatedOTP || !form.otp) return false;\r\n    \r\n    if (Date.now() > otpExpiry) {\r\n      setError(\"OTP has expired. Please request a new one.\");\r\n      setOtpSent(false);\r\n      setOtpVerified(false);\r\n      setGeneratedOTP(\"\");\r\n      return false;\r\n    }\r\n    \r\n    if (form.otp === generatedOTP) {\r\n      setOtpVerified(true);\r\n      return true;\r\n    } else {\r\n      setError(\"Invalid OTP. Please try again.\");\r\n      setOtpVerified(false);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    \r\n    // Limit OTP input to 6 digits\r\n    if (name === 'otp') {\r\n      if (value.length <= 6 && /^\\d*$/.test(value)) {\r\n        setForm({ ...form, [name]: value });\r\n      }\r\n    } else {\r\n      setForm({ ...form, [name]: value });\r\n    }\r\n    \r\n    // Clear messages on input change\r\n    if (error) setError(\"\");\r\n    if (success && name !== 'otp') setSuccess(\"\");\r\n  };\r\n\r\n  const handleSendOTP = async () => {\r\n    if (!form.email) {\r\n      setError(\"Please enter your email first\");\r\n      return;\r\n    }\r\n\r\n    // Email validation\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!emailRegex.test(form.email)) {\r\n      setError(\"Please enter a valid email address\");\r\n      return;\r\n    }\r\n\r\n    // Rate limiting\r\n    const now = Date.now();\r\n    if (now - lastOtpSent < 60000) {\r\n      setError(\"Please wait before requesting another OTP\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setLastOtpSent(now);\r\n    \r\n    const success = await sendOTP(form.email);\r\n    if (success) {\r\n      setForm({ ...form, otp: \"\" }); // Clear previous OTP\r\n    }\r\n    \r\n    setLoading(false);\r\n  };\r\n\r\n  const handleResendOTP = async () => {\r\n    if (countdown > 0) return;\r\n    \r\n    const now = Date.now();\r\n    if (now - lastOtpSent < 30000) {\r\n      setError(\"Please wait before requesting another OTP\");\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    setLastOtpSent(now);\r\n    \r\n    const success = await sendOTP(form.email);\r\n    if (success) {\r\n      setForm({ ...form, otp: \"\" }); // Clear previous OTP\r\n      setOtpVerified(false);\r\n    }\r\n    \r\n    setLoading(false);\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    setLoading(true);\r\n    setError(\"\");\r\n    \r\n    try {\r\n      // Sign In logic\r\n      if (tab === 0) {\r\n        if (!form.username || !form.password) {\r\n          setError(\"Please fill in all required fields\");\r\n          return;\r\n        }\r\n\r\n        const credentials = { username: form.username, password: form.password };\r\n        const result = await login(credentials);\r\n        \r\n        if (result.success) {\r\n          setSuccess(\"Sign in successful!\");\r\n          setTimeout(() => navigate(\"/\"), 1000);\r\n        } else {\r\n          setError(result.error || \"Invalid credentials\");\r\n        }\r\n      }\r\n      \r\n      // Sign Up logic\r\n      else {\r\n        if (!form.username || !form.email || !form.password) {\r\n          setError(\"Please fill in all required fields\");\r\n          return;\r\n        }\r\n\r\n        if (!otpSent) {\r\n          setError(\"Please send OTP first\");\r\n          return;\r\n        }\r\n\r\n        if (!otpVerified) {\r\n          setError(\"Please verify your OTP first\");\r\n          return;\r\n        }\r\n\r\n        const credentials = { \r\n          username: form.username, \r\n          email: form.email, \r\n          password: form.password \r\n        };\r\n\r\n        const result = await login(credentials);\r\n        \r\n        if (result.success) {\r\n          setSuccess(\"Account created successfully!\");\r\n          setTimeout(() => navigate(\"/\"), 1000);\r\n        } else {\r\n          setError(result.error || \"Registration failed\");\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Authentication error:\", err);\r\n      setError(\"An unexpected error occurred. Please try again.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleTabChange = (_, newVal) => {\r\n    setTab(newVal);\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n    // Reset all state when switching tabs\r\n    setOtpSent(false);\r\n    setOtpVerified(false);\r\n    setGeneratedOTP(\"\");\r\n    setOtpExpiry(null);\r\n    setCountdown(0);\r\n    setLastOtpSent(0);\r\n    setForm({ username: \"\", email: \"\", password: \"\", otp: \"\" });\r\n  };\r\n\r\n  const isSignUpReady = () => {\r\n    return form.username && form.email && form.password && otpVerified;\r\n  };\r\n\r\n  const isSignInReady = () => {\r\n    return form.username && form.password;\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Typography variant=\"h4\" align=\"center\" sx={{ mb: 3, color: '#e50914', fontWeight: 'bold' }}>\r\n        MFL!X\r\n      </Typography>\r\n      \r\n      <StyledTabs \r\n        value={tab} \r\n        onChange={handleTabChange} \r\n        textColor=\"inherit\" \r\n        indicatorColor=\"primary\"\r\n        centered\r\n      >\r\n        <Tab label=\"Sign In\" />\r\n        <Tab label=\"Sign Up\" />\r\n      </StyledTabs>\r\n\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 2, backgroundColor: '#d32f2f', color: 'white' }}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {success && (\r\n        <Alert severity=\"success\" sx={{ mb: 2, backgroundColor: '#2e7d32', color: 'white' }}>\r\n          {success}\r\n        </Alert>\r\n      )}\r\n\r\n      {/* Sign Up Form */}\r\n      {tab === 1 && (\r\n        <>\r\n          <StyledInput \r\n            label=\"Username\" \r\n            variant=\"outlined\" \r\n            fullWidth \r\n            name=\"username\" \r\n            value={form.username}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n          \r\n          <StyledInput \r\n            label=\"Email\" \r\n            variant=\"outlined\" \r\n            fullWidth \r\n            name=\"email\" \r\n            type=\"email\"\r\n            value={form.email}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n          \r\n          <StyledInput \r\n            label=\"Password\" \r\n            type=\"password\" \r\n            variant=\"outlined\" \r\n            fullWidth \r\n            name=\"password\" \r\n            value={form.password}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n          \r\n          <OTPContainer>\r\n            <StyledInput \r\n              label=\"Enter OTP\" \r\n              variant=\"outlined\" \r\n              fullWidth \r\n              name=\"otp\" \r\n              value={form.otp}\r\n              onChange={handleChange}\r\n              disabled={!otpSent}\r\n              placeholder=\"6-digit code\"\r\n              sx={{ marginBottom: 0 }}\r\n              inputProps={{ maxLength: 6 }}\r\n            />\r\n            <SendOTPButton \r\n              variant=\"contained\"\r\n              onClick={handleSendOTP}\r\n              disabled={loading || !form.email || (otpSent && otpVerified)}\r\n            >\r\n              {otpVerified ? '✓ Sent' : (otpSent ? 'Resend' : 'Send OTP')}\r\n            </SendOTPButton>\r\n          </OTPContainer>\r\n\r\n          {otpSent && (\r\n            <Box sx={{ textAlign: 'center', marginBottom: 2 }}>\r\n              <Typography variant=\"body2\" color=\"gray\" sx={{ mb: 1 }}>\r\n                {otpVerified ? (\r\n                  <span style={{ color: '#4caf50' }}>✓ OTP verified successfully!</span>\r\n                ) : (\r\n                  `OTP sent to ${form.email}. Check your inbox.`\r\n                )}\r\n              </Typography>\r\n              \r\n              {!otpVerified && (\r\n                <Typography variant=\"body2\" color=\"gray\">\r\n                  Didn't receive OTP?{' '}\r\n                  <ResendButton \r\n                    onClick={handleResendOTP}\r\n                    disabled={countdown > 0 || loading}\r\n                  >\r\n                    {countdown > 0 ? `Resend in ${countdown}s` : 'Resend OTP'}\r\n                  </ResendButton>\r\n                </Typography>\r\n              )}\r\n            </Box>\r\n          )}\r\n        </>\r\n      )}\r\n      \r\n      {/* Sign In Form */}\r\n      {tab === 0 && (\r\n        <>\r\n          <StyledInput \r\n            label=\"Username\" \r\n            variant=\"outlined\" \r\n            fullWidth \r\n            name=\"username\" \r\n            value={form.username}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n          \r\n          <StyledInput \r\n            label=\"Password\" \r\n            type=\"password\" \r\n            variant=\"outlined\" \r\n            fullWidth \r\n            name=\"password\" \r\n            value={form.password}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </>\r\n      )}\r\n\r\n      <SubmitButton \r\n        variant=\"contained\" \r\n        fullWidth \r\n        onClick={handleSubmit}\r\n        disabled={loading || (tab === 0 ? !isSignInReady() : !isSignUpReady())}\r\n      >\r\n        {loading ? \"Loading...\" : (tab === 0 ? \"Sign In\" : \"Sign Up\")}\r\n      </SubmitButton>\r\n      \r\n      <Typography variant=\"body2\" align=\"center\" sx={{ mt: 2, color: 'gray' }}>\r\n        {tab === 0 ? \"Don't have an account? \" : \"Already have an account? \"}\r\n        <Button \r\n          variant=\"text\" \r\n          onClick={() => setTab(tab === 0 ? 1 : 0)}\r\n          sx={{ color: '#e50914', textTransform: 'none', p: 0, minWidth: 'auto' }}\r\n        >\r\n          {tab === 0 ? \"Sign Up\" : \"Sign In\"}\r\n        </Button>\r\n      </Typography>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default SignInSignUp;"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,GAAG,EAAEC,UAAU,EAAEC,SAAS,EAAEC,MAAM,EAAEC,MAAM,EAAEC,KAAK,EAAEC,IAAI,EAAEC,GAAG,EAAEC,KAAK,QAAQ,eAAe;AACnG,SAASC,OAAO,QAAQ,oCAAoC;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE7D,MAAMC,OAAO,GAAGV,MAAM,CAACC,KAAK,CAAC;AAC7B;AACA;AACA;AACA;AACA;AACA,CAAC;AAACU,EAAA,GANID,OAAO;AAQb,MAAME,WAAW,GAAGZ,MAAM,CAACF,SAAS,CAAC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACe,GAAA,GAxBID,WAAW;AA0BjB,MAAME,UAAU,GAAGd,MAAM,CAACE,IAAI,CAAC;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACa,GAAA,GAXID,UAAU;AAahB,MAAME,YAAY,GAAGhB,MAAM,CAACJ,GAAG,CAAC;AAChC;AACA;AACA;AACA;AACA,CAAC;AAACqB,GAAA,GALID,YAAY;AAOlB,MAAME,aAAa,GAAGlB,MAAM,CAACD,MAAM,CAAC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACoB,GAAA,GAhBID,aAAa;AAkBnB,MAAME,YAAY,GAAGpB,MAAM,CAACD,MAAM,CAAC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACsB,GAAA,GAhBID,YAAY;AAkBlB,MAAME,YAAY,GAAGtB,MAAM,CAACD,MAAM,CAAC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}